graph TB
    subgraph "MVP - Ambiente Local"
        subgraph "Docker Compose Stack"
            MVPFront[ğŸ“± Frontend Container<br/>React + Nginx<br/>Port: 3000]
            MVPBack[ğŸ”§ Backend Container<br/>FastAPI + LangFlow<br/>Port: 8000]
            MVPOllama[ğŸ¤– Ollama Container<br/>Llama Models<br/>Port: 11434]
            MVPChroma[ğŸ” Chroma Container<br/>Vector DB<br/>Port: 8001]
            MVPRedis[ğŸš€ Redis Container<br/>Cache & Sessions<br/>Port: 6379]
        end
        
        subgraph "Volumes"
            MVPData[ğŸ“‚ ./data/<br/>- sqlite/<br/>- documents/<br/>- models/]
            MVPLogs[ğŸ“‹ ./logs/]
        end
    end

    subgraph "ProduÃ§Ã£o - Cloud/Kubernetes"
        subgraph "Frontend Tier"
            ProdCDN[ğŸŒ CDN<br/>CloudFlare/AWS]
            ProdNginx[ğŸ”€ Nginx Ingress<br/>Load Balancer]
            ProdFrontPods[ğŸ“± Frontend Pods<br/>React SPA<br/>3 replicas]
        end
        
        subgraph "API Tier"
            ProdGateway[ğŸšª API Gateway<br/>Kong/Ambassador<br/>2 replicas]
            ProdBackPods[ğŸ”§ Backend Pods<br/>FastAPI Services<br/>5 replicas]
        end
        
        subgraph "AI Processing Tier"
            ProdLangFlow[ğŸ”„ LangFlow Cluster<br/>Orchestration<br/>3 replicas]
            ProdOllamaCluster[ğŸ¤– Ollama Cluster<br/>GPU Nodes<br/>Auto-scaling]
        end
        
        subgraph "Data Tier"
            ProdPostgres[ğŸ˜ PostgreSQL<br/>Master/Slave<br/>HA Setup]
            ProdPinecone[â˜ï¸ Pinecone<br/>Managed Vector DB]
            ProdRedisCluster[ğŸš€ Redis Cluster<br/>High Availability]
        end
        
        subgraph "Infrastructure"
            ProdK8s[â˜¸ï¸ Kubernetes<br/>Auto-scaling<br/>Self-healing]
            ProdMonitor[ğŸ“Š Monitoring<br/>Prometheus + Grafana]
            ProdLogs[ğŸ“‹ Logging<br/>ELK Stack]
        end
    end

    %% MVP Connections
    MVPFront -.-> MVPBack
    MVPBack -.-> MVPOllama
    MVPBack -.-> MVPChroma
    MVPBack -.-> MVPRedis
    MVPBack -.-> MVPData
    MVPBack -.-> MVPLogs

    %% Production Connections
    ProdCDN --> ProdNginx
    ProdNginx --> ProdFrontPods
    ProdFrontPods --> ProdGateway
    ProdGateway --> ProdBackPods
    ProdBackPods --> ProdLangFlow
    ProdLangFlow --> ProdOllamaCluster
    ProdBackPods --> ProdPostgres
    ProdLangFlow --> ProdPinecone
    ProdBackPods --> ProdRedisCluster

    %% Infrastructure monitoring
    ProdK8s -.-> ProdMonitor
    ProdK8s -.-> ProdLogs

    %% Evolution Arrow
    MVPBack ==> ProdBackPods
    MVPFront ==> ProdFrontPods
    MVPOllama ==> ProdOllamaCluster
    MVPChroma ==> ProdPinecone

    %% File Structure Annotations
    subgraph "Estrutura de Arquivos"
        FileStruct["ğŸ“ ai-chat-mvp/<br/>â”œâ”€â”€ ğŸ³ docker-compose.yml<br/>â”œâ”€â”€ ğŸ“‚ backend/<br/>â”‚   â”œâ”€â”€ ğŸ main.py<br/>â”‚   â”œâ”€â”€ ğŸ“‚ api/<br/>â”‚   â”œâ”€â”€ ğŸ“‚ services/<br/>â”‚   â”œâ”€â”€ ğŸ“‚ langflow_configs/<br/>â”‚   â””â”€â”€ ğŸ”§ requirements.txt<br/>â”œâ”€â”€ ğŸ“‚ frontend/<br/>â”‚   â”œâ”€â”€ âš›ï¸ src/<br/>â”‚   â”œâ”€â”€ ğŸ“¦ package.json<br/>â”‚   â””â”€â”€ ğŸ³ Dockerfile<br/>â”œâ”€â”€ ğŸ“‚ data/<br/>â”‚   â”œâ”€â”€ ğŸ” chroma/<br/>â”‚   â”œâ”€â”€ ğŸ“„ documents/<br/>â”‚   â””â”€â”€ ğŸ—ƒï¸ sqlite/<br/>â”œâ”€â”€ ğŸ“‚ scripts/<br/>â”‚   â”œâ”€â”€ ğŸš€ setup.sh<br/>â”‚   â””â”€â”€ ğŸŒ± seed_data.py<br/>â””â”€â”€ ğŸ“‚ k8s/ (produÃ§Ã£o)<br/>    â”œâ”€â”€ ğŸ“ deployments/<br/>    â”œâ”€â”€ ğŸ”§ services/<br/>    â””â”€â”€ ğŸ—‚ï¸ configmaps/"]
    end

    %% Styling
    classDef mvp fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef prod fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef infra fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    classDef data fill:#fff3e0,stroke:#ef6c00,stroke-width:2px

    class MVPFront,MVPBack,MVPOllama,MVPChroma,MVPRedis,MVPData,MVPLogs mvp
    class ProdCDN,ProdNginx,ProdFrontPods,ProdGateway,ProdBackPods,ProdLangFlow,ProdOllamaCluster prod
    class ProdK8s,ProdMonitor,ProdLogs infra
    class ProdPostgres,ProdPinecone,ProdRedisCluster data